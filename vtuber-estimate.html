<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTuberãƒ—ãƒ©ãƒ³ ãŠè¦‹ç©ã‚‚ã‚Š - ã‚¹ãƒƒã¨ã‚µã‚¤ãƒˆ</title>
    <meta name="description" content="VTuberãƒ—ãƒ©ãƒ³åˆ¶ä½œã®ãŠè¦‹ç©ã‚‚ã‚Šã€‚ãŠå®¢æ§˜ã®ã”å¸Œæœ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¦ã€æ¦‚ç®—è²»ç”¨ã‚’ã”ç¢ºèªã„ãŸã ã‘ã¾ã™ã€‚">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/reset.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <style>
        /* è¦‹ç©ã‚‚ã‚Šãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .estimate-hero {
            background: linear-gradient(135deg, #FF1493 0%, #9400D3 100%);
            color: white;
            padding: 120px 0 60px;
            text-align: center;
        }
        
        .estimate-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .estimate-box {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 2rem;
            color: #FF1493;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .option-group {
            margin-bottom: 40px;
        }
        
        .option-group h3 {
            font-size: 1.3rem;
            color: #9400D3;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #FFE4E1;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 15px;
            background: #FFF0F5;
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .option-item:hover {
            background: #FFE4E1;
        }
        
        .option-checkbox {
            width: 25px;
            height: 25px;
            margin-right: 15px;
            cursor: pointer;
            accent-color: #FF1493;
        }
        
        .option-label {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .option-info {
            flex: 1;
        }
        
        .option-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .option-desc {
            font-size: 0.9rem;
            color: #666;
        }
        
        .option-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: #FF1493;
            white-space: nowrap;
        }
        
        .price-summary {
            position: sticky;
            top: 80px;
            background: linear-gradient(135deg, #FFE4E1 0%, #FFF0F5 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            border: 3px solid #FF1493;
        }
        
        .price-summary h3 {
            color: #9400D3;
            margin-bottom: 20px;
        }
        
        .base-price-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #FFB6C1;
            margin-bottom: 10px;
        }
        
        .option-price-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            font-size: 0.9rem;
            color: #666;
        }
        
        .total-price {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #FF1493;
        }
        
        .total-label {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 10px;
        }
        
        .total-amount {
            font-size: 3rem;
            font-weight: bold;
            color: #FF1493;
        }
        
        .price-note {
            font-size: 0.9rem;
            color: #666;
            margin-top: 15px;
        }
        
        .action-buttons {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            justify-content: center;
        }
        
        .btn-estimate {
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #FF1493 0%, #9400D3 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: #FF1493;
            border: 2px solid #FF1493;
        }
        
        .btn-secondary:hover {
            background: #FFF0F5;
        }
        
        @media (max-width: 768px) {
            .estimate-box {
                padding: 25px;
            }
            
            .option-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .option-label {
                flex-direction: column;
                align-items: flex-start;
                width: 100%;
            }
            
            .option-price {
                margin-top: 10px;
            }
            
            .price-summary {
                position: static;
                margin-top: 40px;
            }
        }
        
        /* ã‚¹ãƒãƒ›ã§ã®æ”¹è¡Œè¡¨ç¤º */
        .sp-only {
            display: none;
        }
        
        @media (max-width: 768px) {
            .sp-only {
                display: inline;
            }
            
            .estimate-hero h1 {
                font-size: 2rem;
                line-height: 1.4;
            }
        }
    </style>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2W2NSTXJNG"></script>
    <script src="/js/analytics.js"></script>
</head>
<body>
    <header class="header">
        <div class="container header-container">
            <a href="index.html" class="logo">
                <div style="display: flex; flex-direction: column; align-items: flex-start;">
                    <span style="font-family: 'M PLUS Rounded 1c', sans-serif; font-size: 2.8rem; font-weight: 900; color: #2563eb;">ã‚¹ãƒƒã¨ã‚µã‚¤ãƒˆ</span>
                    <span style="font-size: 1.1rem; font-weight: 400; color: #64748b; margin-top: -4px; letter-spacing: 0.02em;">å€‹äººã‹ã‚‰ä¼æ¥­ã¾ã§æœ€é€Ÿãƒ»ä½ä¾¡æ ¼ã§ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸åˆ¶ä½œ</span>
                </div>
            </a>
            <nav class="nav">
                <a href="service.html" class="nav-link">ã‚µãƒ¼ãƒ“ã‚¹</a>
                <a href="pricing.html" class="nav-link">æ–™é‡‘</a>
                <a href="portfolio.html" class="nav-link">ä½œå“ä¾‹</a>
                <a href="deployment-guide.html" class="nav-link">å…¬é–‹ã®ä»•æ–¹</a>
                <a href="contact.html" class="nav-link">ãŠå•ã„åˆã‚ã›</a>
            </nav>
            <button class="mobile-menu-btn" id="mobileMenuBtn">â˜°</button>
        </div>
    </header>

    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-list">
            <a href="service.html" class="mobile-nav-link">ã‚µãƒ¼ãƒ“ã‚¹</a>
            <a href="pricing.html" class="mobile-nav-link">æ–™é‡‘</a>
            <a href="portfolio.html" class="mobile-nav-link">ä½œå“ä¾‹</a>
            <a href="deployment-guide.html" class="mobile-nav-link">å…¬é–‹ã®ä»•æ–¹</a>
            <a href="contact.html" class="mobile-nav-link">ãŠå•ã„åˆã‚ã›</a>
        </div>
    </nav>

    <section class="estimate-hero">
        <div class="container">
            <h1>VTuberãƒ—ãƒ©ãƒ³<br>ãŠè¦‹ç©ã‚‚ã‚Š</h1>
            <p style="font-size: 1.2rem; margin-top: 20px;">
                ã”å¸Œæœ›ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¦ã€<br class="sp-only">æ¦‚ç®—è²»ç”¨ã‚’ã”ç¢ºèªãã ã•ã„
            </p>
        </div>
    </section>

    <div class="estimate-container">
        <div class="estimate-box">
            <h2 class="section-title">ã‚ªãƒ—ã‚·ãƒ§ãƒ³é¸æŠ</h2>
            
            <div class="option-group">
                <h3>ğŸ¨ ç´ æåˆ¶ä½œã‚ªãƒ—ã‚·ãƒ§ãƒ³</h3>
                
                <div class="option-item">
                    <input type="checkbox" id="simple-materials" class="option-checkbox" data-price="5000" data-name="ç°¡æ˜“ç´ æåˆ¶ä½œ">
                    <label for="simple-materials" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ç°¡æ˜“ç´ æåˆ¶ä½œ</div>
                            <div class="option-desc">ãªã‚“ã¡ã‚ƒã£ã¦VTuberé¢¨ãƒ­ã‚´ã€è£…é£¾ç´ æã®ç°¡æ˜“åˆ¶ä½œ</div>
                        </div>
                        <div class="option-price">+Â¥5,000</div>
                    </label>
                </div>
            </div>
            
            <div class="option-group">
                <h3>âœ¨ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½</h3>
                
                <div class="option-item">
                    <input type="checkbox" id="mouse-cursor" class="option-checkbox" data-price="10000" data-name="ã‚«ãƒ¼ã‚½ãƒ«è¿½å¾“ãƒŸãƒ‹ã‚­ãƒ£ãƒ©">
                    <label for="mouse-cursor" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ã‚«ãƒ¼ã‚½ãƒ«è¿½å¾“ãƒŸãƒ‹ã‚­ãƒ£ãƒ©</div>
                            <div class="option-desc">ãƒŸãƒ‹ã‚­ãƒ£ãƒ©ç´ æä½œæˆè¾¼ã¿ï¼ˆæ­©ããƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ï¼šæ­£é¢ãƒ»èƒŒå¾Œãƒ»é™æ­¢çŠ¶æ…‹ï¼‰</div>
                        </div>
                        <div class="option-price">+Â¥10,000</div>
                    </label>
                </div>
                
                <div class="option-item">
                    <input type="checkbox" id="collection-game" class="option-checkbox" data-price="5000" data-name="ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ ">
                    <label for="collection-game" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ </div>
                            <div class="option-desc">ã‚µã‚¤ãƒˆå†…ã§ã‚¢ã‚¤ãƒ†ãƒ ã‚’é›†ã‚ã‚‹æ¥½ã—ã¿ã‚’æä¾›</div>
                        </div>
                        <div class="option-price">+Â¥5,000</div>
                    </label>
                </div>
                
                <div class="option-item">
                    <input type="checkbox" id="gamification" class="option-checkbox" data-price="8000" data-name="ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³">
                    <label for="gamification" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ </div>
                            <div class="option-desc">ã‚µã‚¤ãƒˆå†…ã§éŠã¹ã‚‹ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ï¼ˆå†…å®¹ã¯è¦ç›¸è«‡ï¼‰</div>
                        </div>
                        <div class="option-price">+Â¥8,000</div>
                    </label>
                </div>
            </div>
            
            <div class="option-group">
                <h3>ğŸŒ å¤šè¨€èªå¯¾å¿œ</h3>
                
                <div class="option-item">
                    <input type="checkbox" id="lang-en" class="option-checkbox" data-price="2500" data-name="è‹±èªå¯¾å¿œ">
                    <label for="lang-en" class="option-label">
                        <div class="option-info">
                            <div class="option-name">è‹±èªå¯¾å¿œ</div>
                            <div class="option-desc">ã‚µã‚¤ãƒˆå…¨ä½“ã‚’è‹±èªã«å¯¾å¿œ</div>
                        </div>
                        <div class="option-price">+Â¥2,500</div>
                    </label>
                </div>
                
                <div class="option-item">
                    <input type="checkbox" id="lang-zh" class="option-checkbox" data-price="2500" data-name="ä¸­å›½èªå¯¾å¿œ">
                    <label for="lang-zh" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ä¸­å›½èªå¯¾å¿œï¼ˆç°¡ä½“å­—/ç¹ä½“å­—ï¼‰</div>
                            <div class="option-desc">ã‚µã‚¤ãƒˆå…¨ä½“ã‚’ä¸­å›½èªã«å¯¾å¿œ</div>
                        </div>
                        <div class="option-price">+Â¥2,500</div>
                    </label>
                </div>
                
                <div class="option-item">
                    <input type="checkbox" id="lang-ko" class="option-checkbox" data-price="2500" data-name="éŸ“å›½èªå¯¾å¿œ">
                    <label for="lang-ko" class="option-label">
                        <div class="option-info">
                            <div class="option-name">éŸ“å›½èªå¯¾å¿œ</div>
                            <div class="option-desc">ã‚µã‚¤ãƒˆå…¨ä½“ã‚’éŸ“å›½èªã«å¯¾å¿œ</div>
                        </div>
                        <div class="option-price">+Â¥2,500</div>
                    </label>
                </div>
                
                <div class="option-item">
                    <input type="checkbox" id="lang-id" class="option-checkbox" data-price="2500" data-name="ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èªå¯¾å¿œ">
                    <label for="lang-id" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èªå¯¾å¿œ</div>
                            <div class="option-desc">ã‚µã‚¤ãƒˆå…¨ä½“ã‚’ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èªã«å¯¾å¿œ</div>
                        </div>
                        <div class="option-price">+Â¥2,500</div>
                    </label>
                </div>
                
                <p style="margin-top: 20px; padding: 15px; background: #F0F8FF; border-radius: 10px; font-size: 0.9rem; color: #666; text-align: center;">
                    <span style="font-weight: bold; color: #FF1493;">ãã®ä»–ã®è¨€èªã«ã‚‚å¯¾å¿œå¯èƒ½ã§ã™</span><br>
                    ãƒãƒ«ãƒˆã‚¬ãƒ«èªã€ã‚¹ãƒšã‚¤ãƒ³èªã€ã‚¿ã‚¤èªãªã©ã€ã”å¸Œæœ›ã®è¨€èªãŒã”ã–ã„ã¾ã—ãŸã‚‰ã”ç›¸è«‡ãã ã•ã„ã€‚
                </p>
            </div>
            
            <div class="option-group">
                <h3>ğŸ”§ ä¿å®ˆãƒ»é‹ç”¨</h3>
                
                <div class="option-item">
                    <input type="checkbox" id="maintenance" class="option-checkbox" data-price="10000" data-name="ãƒ‰ãƒ¡ã‚¤ãƒ³ä»£è¡Œå–å¾—ãƒ»ã‚µã‚¤ãƒˆç®¡ç†" data-yearly="true">
                    <label for="maintenance" class="option-label">
                        <div class="option-info">
                            <div class="option-name">ãƒ‰ãƒ¡ã‚¤ãƒ³ä»£è¡Œå–å¾—ãƒ»ã‚µã‚¤ãƒˆç®¡ç†</div>
                            <div class="option-desc">ãƒ‰ãƒ¡ã‚¤ãƒ³å–å¾—ä»£è¡Œã€ã‚µãƒ¼ãƒãƒ¼ç®¡ç†ã€SSLè¨¼æ˜æ›¸æ›´æ–°ã€æœˆ1å›ç¨‹åº¦ã®ç°¡æ˜“æ›´æ–°ä½œæ¥­</div>
                            <div style="margin-top: 8px; padding: 8px 12px; background: #FFF0F5; border-radius: 8px; border: 1px solid #FF1493;">
                                <span style="color: #FF1493; font-weight: bold; font-size: 1.1rem;">âš ï¸ å¹´é¡æ–™é‡‘ã§ã™</span>
                                <span style="color: #FF1493; font-size: 0.9rem;">ï¼ˆæ¯å¹´æ›´æ–°ï¼‰</span>
                                <br>
                                <span style="color: #666; font-size: 0.85rem; margin-top: 5px; display: inline-block;">
                                    â€»æ›´æ–°ã®ã”æ¡ˆå†…ã¯æ›´æ–°æ—¥ã®1ãƒ¶æœˆå‰ã«ãƒ¡ãƒ¼ãƒ«ã§ãŠé€ã‚Šã—ã¾ã™
                                </span>
                            </div>
                        </div>
                        <div class="option-price" style="color: #FF1493; font-size: 1.3rem; font-weight: bold;">Â¥10,000/å¹´<br><span style="font-size: 1rem;">ï¼ˆç¨è¾¼Â¥11,000ï¼‰</span></div>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="price-summary">
            <h3>ãŠè¦‹ç©ã‚‚ã‚Šé‡‘é¡</h3>
            
            <div class="base-price-line">
                <span>åŸºæœ¬åˆ¶ä½œè²»</span>
                <span>Â¥10,000</span>
            </div>
            
            <div id="selectedOptions"></div>
            
            <div class="subtotal-line" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #FFB6C1;">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0;">
                    <span>å°è¨ˆï¼ˆç¨æŠœï¼‰</span>
                    <span id="subtotalAmount" style="font-size: 1.2rem;">Â¥10,000</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0;">
                    <span>æ¶ˆè²»ç¨ï¼ˆ10%ï¼‰</span>
                    <span id="taxAmount" style="font-size: 1.2rem;">Â¥1,000</span>
                </div>
            </div>
            
            <div id="yearlyFeeInfo" style="display: none; margin-top: 15px; padding: 15px; background: #FFF8DC; border-radius: 10px; border: 1px solid #FFB6C1;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: #FF1493; font-weight: bold;">
                        <span style="font-size: 0.9rem;">åˆ¥é€”å¿…è¦ãªå¹´é–“è²»ç”¨ï¼š</span><br>
                        ãƒ‰ãƒ¡ã‚¤ãƒ³ä»£è¡Œå–å¾—ãƒ»ã‚µã‚¤ãƒˆç®¡ç†
                    </span>
                    <span style="color: #FF1493; font-weight: bold; font-size: 1.2rem;">Â¥10,000/å¹´<br><span style="font-size: 1rem;">ï¼ˆç¨è¾¼Â¥11,000ï¼‰</span></span>
                </div>
                <p style="font-size: 0.85rem; color: #666; margin-top: 8px; margin-bottom: 0;">
                    â€»åˆå›åˆ¶ä½œè²»ã¨ã¯åˆ¥ã«ãŠæ”¯æ‰•ã„ã„ãŸã ãã¾ã™
                </p>
            </div>
            
            <div class="total-price">
                <div class="total-label">åˆè¨ˆé‡‘é¡ï¼ˆç¨è¾¼ï¼‰</div>
                <div class="total-amount" id="totalAmount">Â¥11,000</div>
            </div>
            
            <p class="price-note">
                â€» ä¸Šè¨˜ã¯æ¦‚ç®—é‡‘é¡ã§ã™ã€‚è©³ç´°ãªãŠè¦‹ç©ã‚‚ã‚Šã¯ã”ç›¸è«‡å†…å®¹ã«ã‚ˆã‚Šå¤‰å‹•ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚<br>
                â€» å¹´é–“ä¿å®ˆç®¡ç†è²»Â¥10,000/å¹´ï¼ˆç¨è¾¼Â¥11,000ï¼‰ã¯åˆå›åˆ¶ä½œè²»ã¨ã¯åˆ¥é€”ã¨ãªã‚Šã¾ã™ã€‚
            </p>
            
            <!-- ãŠå‹é”ç´¹ä»‹ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ -->
            <div class="referral-campaign-info">
                <h3 class="campaign-title">ğŸ‰ ãŠå‹é”ç´¹ä»‹ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</h3>
                <p class="campaign-description">
                    ä»–ã®VTuberæ§˜ã‚’ã”ç´¹ä»‹ã„ãŸã ãã¨ã€<br>
                    <strong>åˆå¹´åº¦ã®ã‚µã‚¤ãƒˆç¶­æŒç®¡ç†è²»ï¼ˆÂ¥11,000ï¼‰ãŒç„¡æ–™</strong>ã«ãªã‚Šã¾ã™ï¼<br>
                    <span style="font-size: 0.9rem; color: #666;">â€» è©³ç´°ã¯ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã«ã¦ã”ç¢ºèªãã ã•ã„</span>
                </p>
            </div>
            
            <div class="action-buttons">
                <a href="vtuber-questionnaire.html" class="btn-estimate btn-primary" id="proceedButton">
                    ç”³ã—è¾¼ã¿ã¸é€²ã‚€
                </a>
                <a href="vtuber-plan-v2.html" class="btn-estimate btn-secondary">
                    è©³ç´°ã‚’ç¢ºèªã™ã‚‹
                </a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 ã‚¹ãƒƒã¨ã‚µã‚¤ãƒˆ. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // ä¾¡æ ¼è¨ˆç®—æ©Ÿèƒ½
        const basePrice = 10000;
        const taxRate = 0.10; // æ¶ˆè²»ç¨ç‡10%
        const checkboxes = document.querySelectorAll('.option-checkbox');
        const selectedOptionsDiv = document.getElementById('selectedOptions');
        const subtotalAmountDiv = document.getElementById('subtotalAmount');
        const taxAmountDiv = document.getElementById('taxAmount');
        const totalAmountDiv = document.getElementById('totalAmount');
        const proceedButton = document.getElementById('proceedButton');
        
        function calculateTotal() {
            let subtotal = basePrice;
            let yearlyTotal = 0;
            let selectedOptions = [];
            let hasYearlyOption = false;
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const price = parseInt(checkbox.dataset.price);
                    const name = checkbox.dataset.name;
                    const isYearly = checkbox.dataset.yearly === 'true';
                    
                    if (isYearly) {
                        yearlyTotal += price;
                        hasYearlyOption = true;
                    } else {
                        subtotal += price;
                    }
                    
                    selectedOptions.push({
                        name: name,
                        price: price,
                        isYearly: isYearly
                    });
                }
            });
            
            // é¸æŠã•ã‚ŒãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¡¨ç¤ºï¼ˆå¹´é¡ä»¥å¤–ï¼‰
            selectedOptionsDiv.innerHTML = '';
            selectedOptions.forEach(option => {
                if (!option.isYearly) {
                    const optionLine = document.createElement('div');
                    optionLine.className = 'option-price-line';
                    optionLine.innerHTML = `
                        <span>${option.name}</span>
                        <span>+Â¥${option.price.toLocaleString()}</span>
                    `;
                    selectedOptionsDiv.appendChild(optionLine);
                }
            });
            
            // å¹´é¡è²»ç”¨ã®è¡¨ç¤º
            const yearlyFeeInfo = document.getElementById('yearlyFeeInfo');
            if (hasYearlyOption) {
                yearlyFeeInfo.style.display = 'block';
            } else {
                yearlyFeeInfo.style.display = 'none';
            }
            
            // ãƒ‰ãƒ¡ã‚¤ãƒ³ä»£è¡Œå–å¾—ãƒ»ã‚µã‚¤ãƒˆç®¡ç†è²»ç”¨ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            const domainCheckbox = document.getElementById('domain-management');
            let yearlyFeeIncluded = false;
            let yearlyFee = 0;
            
            if (domainCheckbox && domainCheckbox.checked) {
                yearlyFeeIncluded = true;
                yearlyFee = parseInt(domainCheckbox.dataset.price);
            }
            
            // æ¶ˆè²»ç¨è¨ˆç®—ï¼ˆåˆå›åˆ¶ä½œè²»ã®ã¿ï¼‰
            const tax = Math.floor(subtotal * taxRate);
            const productionTotal = subtotal + tax;
            
            // å¹´é¡è²»ç”¨ã®ç¨è¾¼è¨ˆç®—
            const yearlyTax = Math.floor(yearlyFee * taxRate);
            const yearlyTotalWithTax = yearlyFee + yearlyTax;
            
            // ç·åˆè¨ˆï¼ˆåˆå›åˆ¶ä½œè²» + å¹´é¡è²»ç”¨ï¼‰
            const grandTotal = productionTotal + yearlyTotalWithTax;
            
            // é‡‘é¡ã®è¡¨ç¤º
            subtotalAmountDiv.textContent = `Â¥${subtotal.toLocaleString()}`;
            taxAmountDiv.textContent = `Â¥${tax.toLocaleString()}`;
            
            // ç·åˆè¨ˆã®è¡¨ç¤ºã‚’æ›´æ–°
            if (yearlyFeeIncluded) {
                totalAmountDiv.innerHTML = `
                    <div style="font-size: 0.9rem; margin-bottom: 5px;">
                        åˆ¶ä½œè²»: Â¥${productionTotal.toLocaleString()} + 
                        å¹´é¡è²»ç”¨: Â¥${yearlyTotalWithTax.toLocaleString()}
                    </div>
                    <div>Â¥${grandTotal.toLocaleString()}</div>
                `;
            } else {
                totalAmountDiv.textContent = `Â¥${productionTotal.toLocaleString()}`;
            }
            
            // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦é¸æŠå†…å®¹ã‚’ä¿å­˜
            const selectedIds = [];
            const selectedNames = [];
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    selectedIds.push(checkbox.id);
                    selectedNames.push(checkbox.dataset.name);
                }
            });
            
            const params = new URLSearchParams({
                subtotal: subtotal,
                tax: tax,
                total: yearlyFeeIncluded ? grandTotal : productionTotal,
                yearlyTotal: yearlyTotal,
                options: selectedIds.join(','),
                optionNames: selectedNames.join(',')
            });
            
            proceedButton.href = `vtuber-questionnaire.html?${params.toString()}`;
        }
        
        // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', calculateTotal);
        });
        
        // åˆæœŸè¨ˆç®—
        calculateTotal();
        
        // ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            document.getElementById('mobileNav').classList.toggle('active');
        });
    </script>
</body>
</html>